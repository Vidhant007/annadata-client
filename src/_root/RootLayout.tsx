import { Link, Outlet } from "react-router-dom";
import { Toaster } from "@/components/ui/toaster";
import "./root.css";

const RootLayout = () => {
  const user = JSON.parse(localStorage.getItem("user") || "{}");
  const removeActive = ()=>{
    let div = document.getElementById("foo");
    let items = div.getElementsByTagName("svg");
    // items.forEach((element)=>{
    //     element.
    // });
    for (var i = 0; i < items.length; ++i) {
        items[i].classList.remove('active');
    }          
}
const handleClick = (event)=>{
    removeActive();
    event.currentTarget.classList.toggle('active');
    

}
  return (
    <>
      <div className="w-full h-dvh flex flex-col justify-between">
        <div className="p-4 flex justify-between">
          <p className="text-primary font-semibold text-lg">अन्नदाता</p>
          <div>
            <img src="/notification.png" alt="" className="w-7" />
          </div>
        </div>

        <Outlet />

        <div className=" nav shadow p-4 flex justify-around" id="foo">
          {!user.isVolunteer && (
            <Link to="/home">
              {/* <img src="/home.png" alt="" className="w-7 object-contain" /> */}
              <svg className="active" onClick={handleClick} preserveAspectRatio="true" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M24.375 12.5C24.375 12.3343 24.3091 12.1753 24.1919 12.0581C24.0747 11.9409 23.9158 11.875 23.75 11.875C23.5842 11.875 23.4253 11.9409 23.3081 12.0581C23.1908 12.1753 23.125 12.3343 23.125 12.5H24.375ZM6.875 12.5C6.875 12.3343 6.80915 12.1753 6.69194 12.0581C6.57473 11.9409 6.41576 11.875 6.25 11.875C6.08424 11.875 5.92526 11.9409 5.80805 12.0581C5.69084 12.1753 5.625 12.3343 5.625 12.5H6.875ZM25.8075 15.4425C25.9249 15.5599 26.084 15.6258 26.25 15.6258C26.416 15.6258 26.5751 15.5599 26.6925 15.4425C26.8099 15.3252 26.8758 15.166 26.8758 15C26.8758 14.834 26.8099 14.6749 26.6925 14.5575L25.8075 15.4425ZM15 3.75002L15.4425 3.30752C15.3844 3.24931 15.3155 3.20314 15.2395 3.17163C15.1636 3.14012 15.0822 3.1239 15 3.1239C14.9178 3.1239 14.8364 3.14012 14.7605 3.17163C14.6845 3.20314 14.6156 3.24931 14.5575 3.30752L15 3.75002ZM3.3075 14.5575C3.19014 14.6749 3.12421 14.834 3.12421 15C3.12421 15.166 3.19014 15.3252 3.3075 15.4425C3.42485 15.5599 3.58403 15.6258 3.75 15.6258C3.91597 15.6258 4.07514 15.5599 4.1925 15.4425L3.3075 14.5575ZM8.75 26.875H21.25V25.625H8.75V26.875ZM24.375 23.75V12.5H23.125V23.75H24.375ZM6.875 23.75V12.5H5.625V23.75H6.875ZM26.6925 14.5575L15.4425 3.30752L14.5575 4.19252L25.8075 15.4425L26.6925 14.5575ZM14.5575 3.30752L3.3075 14.5575L4.1925 15.4425L15.4425 4.19252L14.5575 3.30752ZM21.25 26.875C22.0788 26.875 22.8737 26.5458 23.4597 25.9597C24.0458 25.3737 24.375 24.5788 24.375 23.75H23.125C23.125 24.2473 22.9275 24.7242 22.5758 25.0758C22.2242 25.4275 21.7473 25.625 21.25 25.625V26.875ZM8.75 25.625C8.25271 25.625 7.7758 25.4275 7.42417 25.0758C7.07254 24.7242 6.875 24.2473 6.875 23.75H5.625C5.625 24.5788 5.95424 25.3737 6.54029 25.9597C7.12634 26.5458 7.92119 26.875 8.75 26.875V25.625Z"/>
              </svg>

            </Link>
          )}

          <Link to="/hotspot-areas">
            {/* <img src="/location.png" alt="" className="w-8 object-contain" /> */}
            <svg onClick={handleClick} preserveAspectRatio="true" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M15 12.75C15.7956 12.75 16.5587 12.4339 17.1213 11.8713C17.6839 11.3087 18 10.5456 18 9.75C18 8.95435 17.6839 8.19129 17.1213 7.62868C16.5587 7.06607 15.7956 6.75 15 6.75C14.2044 6.75 13.4413 7.06607 12.8787 7.62868C12.3161 8.19129 12 8.95435 12 9.75C12 10.5456 12.3161 11.3087 12.8787 11.8713C13.4413 12.4339 14.2044 12.75 15 12.75ZM15 8.25C15.3978 8.25 15.7794 8.40804 16.0607 8.68934C16.342 8.97064 16.5 9.35218 16.5 9.75C16.5 10.1478 16.342 10.5294 16.0607 10.8107C15.7794 11.092 15.3978 11.25 15 11.25C14.6022 11.25 14.2206 11.092 13.9393 10.8107C13.658 10.5294 13.5 10.1478 13.5 9.75C13.5 9.35218 13.658 8.97064 13.9393 8.68934C14.2206 8.40804 14.6022 8.25 15 8.25Z"/>
              <path fill-rule="evenodd" clip-rule="evenodd" d="M8.25 9.429C8.25 13.4385 12.2295 20.25 15 20.25C17.772 20.25 21.75 13.4385 21.75 9.429C21.75 5.475 18.7395 2.25 15 2.25C11.2605 2.25 8.25 5.475 8.25 9.429ZM20.25 9.429C20.25 12.7185 16.728 18.75 15 18.75C13.2735 18.75 9.75 12.72 9.75 9.429C9.75 6.2805 12.1125 3.75 15 3.75C17.8875 3.75 20.25 6.2805 20.25 9.429Z"/>
              <path d="M20.1525 13.71C19.9731 13.6329 19.831 13.4888 19.7561 13.3084C19.6813 13.1281 19.6798 12.9257 19.7519 12.7442C19.824 12.5628 19.964 12.4166 20.1421 12.3367C20.3203 12.2569 20.5226 12.2496 20.706 12.3165C21.3159 12.5585 21.8656 12.9309 22.3165 13.4076C22.7673 13.8844 23.1085 14.454 23.316 15.0765L25.317 21.0765C25.5426 21.7532 25.6042 22.4739 25.4965 23.1791C25.3889 23.8842 25.1152 24.5537 24.6979 25.1323C24.2806 25.7108 23.7318 26.1819 23.0967 26.5067C22.4615 26.8314 21.7583 27.0005 21.045 27H8.95498C8.2419 27 7.53902 26.8306 6.90428 26.5056C6.26954 26.1807 5.7211 25.7096 5.30418 25.1311C4.88726 24.5526 4.61379 23.8833 4.50631 23.1783C4.39883 22.4734 4.46041 21.753 4.68598 21.0765L6.68548 15.0765C6.89661 14.4428 7.24615 13.8641 7.70875 13.3823C8.17135 12.9005 8.7354 12.5277 9.35998 12.291C9.45207 12.2561 9.55014 12.2396 9.6486 12.2425C9.74706 12.2455 9.84398 12.2678 9.93382 12.3082C10.0237 12.3485 10.1047 12.4062 10.1722 12.4779C10.2398 12.5496 10.2925 12.6339 10.3275 12.726C10.3624 12.8181 10.3789 12.9162 10.376 13.0147C10.3731 13.1131 10.3507 13.21 10.3104 13.2999C10.27 13.3897 10.2123 13.4707 10.1406 13.5383C10.0689 13.6058 9.98457 13.6586 9.89248 13.6935C9.47557 13.8512 9.09904 14.0999 8.79027 14.4214C8.4815 14.7428 8.24825 15.1291 8.10748 15.552L6.10798 21.552C5.95777 22.003 5.91688 22.4833 5.98868 22.9532C6.06048 23.4231 6.24291 23.8692 6.52095 24.2547C6.79899 24.6403 7.16467 24.9543 7.58786 25.1708C8.01104 25.3873 8.47962 25.5001 8.95498 25.5H21.048C21.5234 25.5 21.992 25.387 22.4151 25.1703C22.8383 24.9536 23.2039 24.6394 23.4818 24.2537C23.7597 23.868 23.9419 23.4217 24.0135 22.9517C24.0851 22.4818 24.0439 22.0015 23.8935 21.5505L21.8955 15.5505C21.757 15.1357 21.5295 14.7562 21.229 14.4385C20.9284 14.1208 20.562 13.8727 20.1555 13.7115"/>
            </svg>

          </Link>
          <Link to="/profile">
            {/* <img src="/user.png" alt="" className="w-7 object-contain" /> */}
            <svg onClick={handleClick} preserveAspectRatio="true" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M14.267 4.57094C12.63 4.88294 11.404 5.98394 10.919 7.57494C10.796 7.97694 10.782 8.10194 10.782 8.74994C10.782 9.39894 10.796 9.52194 10.919 9.92494C11.1212 10.6139 11.4933 11.2411 12.0011 11.7489C12.5088 12.2566 13.136 12.6287 13.825 12.8309C14.228 12.9539 14.351 12.9679 15 12.9679C15.649 12.9679 15.772 12.9539 16.175 12.8309C16.864 12.6287 17.4911 12.2566 17.9989 11.7489C18.5067 11.2411 18.8787 10.6139 19.081 9.92494C19.204 9.52194 19.218 9.39894 19.218 8.74994C19.218 8.10094 19.204 7.97794 19.081 7.57494C18.64 6.13094 17.485 5.00594 16.075 4.64694C15.559 4.51494 14.738 4.48094 14.267 4.57094ZM16.055 5.68494C17.05 6.02794 17.813 6.83294 18.132 7.87794C18.258 8.28994 18.258 9.20994 18.132 9.62194C17.947 10.2289 17.75 10.5509 17.276 11.0259C16.766 11.5359 16.42 11.7379 15.78 11.8999C15.2628 12.0323 14.7206 12.0318 14.2036 11.8986C13.6867 11.7654 13.2118 11.5037 12.823 11.1379C12.366 10.7119 12.123 10.3479 11.93 9.80194C11.792 9.41294 11.778 9.31894 11.779 8.74994C11.779 8.19894 11.796 8.07894 11.917 7.72994C12.098 7.20794 12.257 6.94694 12.64 6.54094C13.339 5.80094 14.114 5.48294 15.127 5.51994C15.519 5.53394 15.724 5.56994 16.055 5.68494ZM9.27498 17.0569C7.23798 17.3159 5.45598 18.7779 4.80498 20.7249C4.40198 21.9299 4.40298 22.9899 4.80798 23.8299C5.03898 24.3099 5.68998 24.9609 6.16998 25.1919C6.83698 25.5129 6.40698 25.4979 15 25.4979C23.593 25.4979 23.163 25.5129 23.83 25.1919C24.31 24.9609 24.961 24.3099 25.192 23.8299C25.436 23.3239 25.516 22.8849 25.483 22.2249C25.4146 20.8704 24.8455 19.5895 23.886 18.6309C23.0165 17.7549 21.8765 17.1984 20.651 17.0519C20.126 16.9879 9.78398 16.9919 9.27498 17.0569ZM21.125 18.1389C22.977 18.6589 24.314 20.2519 24.476 22.1289C24.553 23.0299 24.248 23.7259 23.581 24.1689C23.052 24.5199 23.572 24.4999 15 24.4999C6.42798 24.4999 6.94798 24.5199 6.41898 24.1689C6.08651 23.9485 5.82443 23.6372 5.66398 23.2719C5.53498 22.9949 5.52598 22.9339 5.53198 22.3749C5.53998 21.6499 5.65198 21.1799 5.97298 20.5249C6.60998 19.2239 7.91098 18.2649 9.32698 18.0549C9.49098 18.0299 12.123 18.0139 15.175 18.0189L20.725 18.0269L21.125 18.1389Z"/>
            </svg>


          </Link>
        </div>
      </div>
      <Toaster />
    </>
  );
};

export default RootLayout;
